let unlock=!0,popup_link=document.querySelectorAll("._popup-link"),popups=document.querySelectorAll(".popup");for(let e=0;e<popup_link.length;e++){const o=popup_link[e];o.addEventListener("click",(function(e){if(unlock){popup_open(o.getAttribute("href").replace("#",""),o.getAttribute("data-video"))}e.preventDefault()}))}for(let e=0;e<popups.length;e++){popups[e].addEventListener("click",(function(e){e.target.closest(".popup__body")||popup_close(e.target.closest(".popup"))}))}function popup_open(e,o=""){document.querySelectorAll(".popup._active").length>0&&popup_close("",!1);let p=document.querySelector(".popup_"+e);if(p&&unlock){if(""!=o&&null!=o){document.querySelector(".popup_video").querySelector(".popup__video").innerHTML='<iframe src="https://www.youtube.com/embed/'+o+'?autoplay=1"  allow="autoplay; encrypted-media" allowfullscreen></iframe>'}document.querySelector(".menu__body._active")||body_lock_add(500),p.classList.add("_active"),history.pushState("","","#"+e)}}function popup_close(e,o=!0){if(unlock){if(e){let o=e.querySelector(".popup__video");o&&(o.innerHTML=""),e.classList.remove("_active")}else for(let e=0;e<popups.length;e++){const o=popups[e];let p=o.querySelector(".popup__video");p&&(p.innerHTML=""),o.classList.remove("_active")}!document.querySelector(".menu__body._active")&&o&&body_lock_remove(500),history.pushState("","",window.location.href.split("#")[0])}}let popup_close_icon=document.querySelectorAll(".popup__close,._popup-close");if(popup_close_icon)for(let e=0;e<popup_close_icon.length;e++){const o=popup_close_icon[e];o.addEventListener("click",(function(){popup_close(o.closest(".popup"))}))}document.addEventListener("keydown",(function(e){"Escape"===e.code&&popup_close()}));